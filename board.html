<!DOCTYPE html>
<html>
<head>
    <style>
        /* Add your CSS here */
    </style>
    <script>
        async function getRepositories(user) {
            const response = await fetch(`https://api.github.com/users/${user}/repos`);
            return await response.json();
        }

        async function getLastCommitDate(user, repo) {
            const response = await fetch(`https://api.github.com/repos/${user}/${repo}/commits`);
            const commits = await response.json();
            return new Date(commits[0].commit.author.date);
        }

        async function displayRepositories() {
            const user = 'emily-daitch';
            const repos = await getRepositories(user);

            for (let repo of repos) {
                const lastCommitDate = await getLastCommitDate(user, repo.name);
                const daysSinceLastCommit = Math.ceil((new Date() - lastCommitDate) / (1000 * 60 * 60 * 24));

                let color = 'red';
                if (daysSinceLastCommit <= 7) {
                    color = 'yellow';
                }
                if (daysSinceLastCommit <= 1) {
                    color = 'green';
                }

                document.getElementById('repos').innerHTML += `
                    <div style="background-color: ${color};">
                        <h2>${repo.name}</h2>
                        <p>Last commit: ${lastCommitDate.toISOString().slice(0,10)}</p>
                    </div>
                `;
            }
        }

        window.onload = displayRepositories;
    </script>
</head>
<body>
    <div id="repos">
        <!-- Repositories will be displayed here -->
    </div>
</body>
</html>
